<!-- file sent by Boubacar to add a category and enter a budget -->
<!-- can be used as our main page -->


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Spending money</title>
  <style type="text/css">
    button,
    div,
    form,
    input {
      margin: 10px;
    }
  </style>
</head>

<body>

 <div class="container">
    <h1>Spending Money</h1>

   <!-- categories will get dumped here -->
    <div id="categories-view"></div>

   <form id="categorie-form">
      <label for="categorie-input">Add a category </label>
      <input type="text" id="categorie-input"><br>

   
     <input id="add-categorie" type="submit" value="Add a categorie Bro"> <br>

     <label for="budget_input"> Enter your Budget </label>
      <input type="text" id="budget_input"><br>

   </form>

   <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">
      // Initial array of categories
      var categories = ["Clothing", "Mortgage", "phone bills", "restaurant"];
      
     var budget = $("#budget_input").val().trim();
      // Function for displaying categories data
      console.log(budget);
      
     function categorieSpenditure() {
        // var categorieSpenditure = $(this).attr("data-name");
         var totalspent = 0;
        var amountspent= [];
        var categorieSpend = $(this).attr("data-name");
        var amount = prompt("How much do you want to spend on" + " " + categorieSpend + " " + " ? ");
        var amountParsed = parseInt(amount);
        amountspent.push(amountParsed);

     
       var standingbudget = budget - amountspent;

       for (var i =0; i< amountspent.length; i++)
        {
         totalspent = totalspent + amountspent[i];
          
       }
        var standingbudget = budget - amountspent;
        alert("you have already spent" + " " + totalspent);
        alert("you have "+ totalspent + " " + " left to spend");

       }

     function renderCategorie() {

       // Deleting the categories prior to adding new categories
        
       $("#categories-view").empty();

       // Looping through the array of categories
        for (var i = 0; i < categories.length; i++) {

         // Then dynamicaly generating categories for each categorie in the array.
          var a = $("<button>");
          // Adding a class
          a.addClass("categorie");
          // Adding a data-attribute with a value of the categorie at index i
          a.attr("data-name", categories[i]);
          // Providing the button's text with a value of the categorie at index i
          a.text(categories[i]);
          // Adding the image to the HTML
          $("#categories-view").append(a);
        }
      }

     // This function handles events where one image is clicked
      $("#add-categorie").on("click", function(event) {
        // event.preventDefault() prevents the form from trying to submit itself.
        // We're using a form so that the user can hit enter instead of clicking the button if they want
        event.preventDefault();

       // This line will grab the text from the input box
        var categorie = $("#categorie-input").val().trim();
        // The categorie from the textbox is then added to our array
      
       categories.push(categorie);

       // calling renderCategorie which handles the processing of our image array
        renderCategorie();
      });

     // Calling the images function at least once to display the initial list of images
      $(document).on("click", ".categorie", categorieSpenditure);

     renderCategorie();
    </script>
  </div>
</body>

</html>